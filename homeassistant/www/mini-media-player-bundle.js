function _templateObject32(){const a=_taggedTemplateLiteral(["\n      <style>\n        ha-card {\n          padding: 0;\n          position: relative;\n          overflow: hidden;\n          display: flex;\n          background: transparent;\n        }\n        ha-card[initial] * {\n          animation-duration: .00001s;\n        }\n        header {\n          display: none;\n        }\n        ha-card[has-title] header {\n          display: block;\n          font-size: var(--paper-font-headline_-_font-size);\n          font-weight: var(--paper-font-headline_-_font-weight);\n          letter-spacing: var(--paper-font-headline_-_letter-spacing);\n          line-height: var(--paper-font-headline_-_line-height);\n          padding: 24px 16px 16px;\n          position: relative;\n        }\n        ha-card[group] {\n          box-shadow: none;\n        }\n        .player {\n          align-self: flex-start;\n          box-sizing: border-box;\n          position: relative;\n          padding: 16px;\n          transition: padding .5s;\n          width: 100%;\n        }\n        ha-card[artwork*='full-cover'] .player {\n          align-self: flex-end;\n        }\n        .player:before {\n          background: var(--paper-card-background-color, white);\n          content: '';\n          position: absolute;\n          top: 0; right: 0; bottom: 0; left: 0;\n          transition: background .5s ease-in;\n        }\n        ha-card[bg] .player:before,\n        ha-card[group] .player:before {\n          background: transparent;\n        }\n        ha-card[artwork='cover'][has-artwork] .player:before {\n          background: rgba(0,0,0,.5);\n        }\n        ha-card[artwork*='full-cover'][has-artwork] .player:before {\n          background: rgba(0,0,0,.75);\n          background: linear-gradient(to top, rgba(0,0,0,0.75) 0%, transparent 100%);\n          transition: background 0s ease-in;\n        }\n        ha-card[artwork='full-cover-fit'][has-artwork] .bg {\n          background-color: black;\n          background-size: contain;\n        }\n        ha-card[artwork*='cover'][has-artwork] .bg,\n        ha-card[bg] .bg {\n          display: block;\n        }\n        .bg {\n          background-size: cover;\n          background-repeat: no-repeat;\n          background-position: center center;\n          display: none;\n          position: absolute;\n          top: 0; right: 0; bottom: 0; left: 0;\n        }\n        ha-card[group] .player  {\n          padding: 0;\n        }\n        ha-card[group][artwork*='cover'][has-artwork] .player {\n          padding: 8px 0;\n        }\n        ha-card[has-title] .player {\n          padding-top: 0;\n        }\n        ha-card[more-info] {\n          cursor: pointer;\n        }\n        ha-card[artwork*='cover'][has-artwork] paper-icon-button,\n        ha-card[artwork*='cover'][has-artwork] ha-icon,\n        ha-card[artwork*='cover'][has-artwork] .entity__info,\n        ha-card[artwork*='cover'][has-artwork] .entity__info__name,\n        ha-card[artwork*='cover'][has-artwork] paper-button,\n        ha-card[artwork*='cover'][has-artwork] header,\n        ha-card[artwork*='cover'][has-artwork] .select span,\n        ha-card[artwork*='cover'][has-artwork] paper-menu-button paper-button[focused] iron-icon {\n          color: #FFFFFF;\n          border-color: #FFFFFF;\n        }\n        ha-card[artwork*='cover'][has-artwork] paper-input {\n          --paper-input-container-focus-color: #FFFFFF;\n        }\n        ha-card[artwork*='cover'][has-artwork] .media-buttons paper-button {\n          background: rgba(255,255,255,.65);\n          color: black;\n        }\n        ha-card[artwork*='cover'][has-artwork] paper-input {\n          --paper-input-container-color: #FFFFFF;\n          --paper-input-container-input-color: #FFFFFF;\n        }\n        .flex {\n          display: flex;\n          display: -ms-flexbox;\n          display: -webkit-flex;\n          flex-direction: row;\n        }\n        .flex-wrap[wrap] {\n          flex-wrap: wrap;\n        }\n        .justify {\n          -webkit-justify-content: space-between;\n          justify-content: space-between;\n        }\n        .hidden {\n          display: none;\n        }\n        .entity {\n          position: relative;\n        }\n        .entity__info {\n          margin-left: 8px;\n          display: block;\n          position: relative;\n          overflow: hidden;\n          user-select: none;\n        }\n        .rows {\n          margin-left: 56px;\n          position: relative;\n        }\n        .rows > *:nth-child(2) {\n          margin-top: 0px;\n        }\n        .entity__info[short] {\n          max-height: 40px;\n          overflow: hidden;\n        }\n        .entity__icon {\n          color: var(--paper-item-icon-color, #44739e);\n        }\n        .entity__artwork, .entity__icon {\n          animation: fade-in .15s ease-out;\n          background-position: center center;\n          background-repeat: no-repeat;\n          background-size: cover;\n          border-radius: 100%;\n          height: 40px;\n          line-height: 40px;\n          margin-right: 8px;\n          min-width: 40px;\n          position: relative;\n          text-align: center;\n          width: 40px;\n          transition: border-color .25s ease-out;\n        }\n        .entity__artwork[border] {\n          border: 2px solid var(--primary-text-color);\n          box-sizing: border-box;\n          -moz-box-sizing: border-box;\n          -webkit-box-sizing: border-box;\n        }\n        .entity__artwork[state='playing'] {\n          border-color: var(--accent-color);\n        }\n        .entity__info__name {\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n        }\n        .entity__info__name[has-info] {\n          line-height: 20px;\n        }\n        .entity__info__name, .entity__control-row--top {\n          line-height: 40px;\n        }\n        .entity__info__name,\n        paper-icon-button,\n        paper-button,\n        .select span {\n          color: var(--primary-text-color);\n          position: relative;\n          transition: background .5s ease-out, color .25s ease-out;\n        }\n        .entity__info__media {\n          color: var(--secondary-text-color);\n          max-height: 6em;\n          word-break: break-word;\n        }\n        .entity__info[short] .entity__info__media {\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n        }\n        .entity[inactive] .entity__info__media {\n          color: var(--primary-text-color);\n          opacity: .5;\n        }\n        .entity[inactive] .entity__info__media {\n          max-width: 200px;\n        }\n        .entity__info__media[scroll] > span {\n          visibility: hidden;\n        }\n        .entity__info__media[scroll] > div {\n          animation: move linear infinite;\n          animation-duration: inherit;\n          overflow: visible;\n        }\n        .entity__info__media[scroll] .marquee {\n          animation: slide linear infinite;\n          animation-duration: inherit;\n          visibility: visible;\n        }\n        .entity__info__media[scroll] {\n          animation-duration: 10s;\n          text-overflow: clip !important;\n          mask-image: linear-gradient(to right, transparent 0%, black 5%, black 95%, transparent 100%);\n          -webkit-mask-image: linear-gradient(to right, transparent 0%, black 5%, black 95%, transparent 100%);\n        }\n        .marquee {\n          visibility: hidden;\n          position: absolute;\n          white-space: nowrap;\n        }\n        ha-card[artwork*='cover'][has-artwork] .entity__info__media,\n        paper-icon-button[color] {\n          color: var(--accent-color) !important;\n        }\n        paper-icon-button {\n          transition: color .25s ease-in-out;\n        }\n        paper-icon-button.shuffle {\n          align-self: center;\n          height: 38px;\n          min-width: 38px;\n          text-align: center;\n          width: 38px;\n        }\n        .entity__info__media span:before {\n          content: ' - ';\n        }\n        .entity__info__media span:first-of-type:before {\n          content: '';\n        }\n        .entity__info__media span:empty,\n        .source-menu span:empty {\n          display: none;\n        }\n        .tts {\n          align-items: center;\n          margin-top: 8px;\n        }\n        .tts__input {\n          cursor: text;\n          flex: 1;\n          margin-right: 8px;\n          --paper-input-container-input: {\n            font-size: 1em;\n          };\n        }\n        .tts paper-button {\n          margin: 0;\n          padding: .4em;\n        }\n        .media-dropdown {\n          box-sizing: border-box;\n          padding: 0;\n          width: 100%;\n          margin-top: 8px;\n        }\n        .media-dropdown__button {\n          border-bottom: 1px solid var(--primary-text-color);\n          display: flex;\n          font-size: 1em;\n          justify-content: space-between;\n          margin: 0;\n          opacity: .75;\n          padding: 0 8px 0 0;\n          width: 100%;\n          border-radius: 0;\n        }\n        .media-dropdown[focused] paper-button {\n          opacity: 1;\n        }\n        .media-dropdown[focused] paper-button[focused] {\n          opacity: .75;\n        }\n        .media-dropdown__label {\n          overflow: hidden;\n          padding: .2em .2em .2em 0;\n          text-align: left;\n          text-overflow: ellipsis;\n          text-transform: none;\n          white-space: nowrap;\n        }\n        .media-dropdown__icon {\n          height: 24px;\n          width: 24px;\n        }\n        .media-buttons {\n          box-sizing: border-box;\n          display: flex;\n          flex-wrap: wrap;\n          margin-top: 8px;\n          padding-top: 8px;\n        }\n        .media-buttons > paper-button {\n          background-color: var(--primary-background-color);\n          background-color: var(--paper-slider-active-color);\n          background-color: rgba(255,255,255,0.1);\n          border-radius: 0;\n          box-sizing: border-box;\n          margin: 8px 0 0 0;\n          min-width: 0;\n          padding: .2em 1em;\n          width: calc(50% - 4px);\n        }\n        .media-buttons > paper-button:nth-child(odd) {\n          margin-right: 8px;\n        }\n        .media-buttons > paper-button:nth-child(-n+2) {\n          margin-top: 0;\n        }\n        .media-buttons > paper-button:nth-last-child(1):nth-child(odd) {\n          margin: 8px 0 0 0;\n          width: 100%;\n        }\n        .select .vol-control {\n          max-width: 200px;\n        }\n        .entity__control-row--top,\n        .select {\n          justify-content: flex-end;\n          margin-right: 0;\n          margin-left: auto;\n          width: auto;\n          max-width: 100%;\n        }\n        .entity__control-row--top paper-slider {\n          height: 40px;\n        }\n        .control-row {\n          flex-wrap: wrap;\n          justify-content: center;\n        }\n        .control-row .vol-control {\n          margin-right: auto;\n        }\n        .vol-control {\n          flex: 1;\n          min-width: 140px;\n          max-height: 40px;\n        }\n        paper-slider {\n          max-width: 400px;\n          min-width: 100px;\n          width: 100%;\n        }\n        paper-input {\n          opacity: .75;\n          --paper-input-container-color: var(--primary-text-color);\n          --paper-input-container-focus-color: var(--primary-text-color);\n          --paper-input-container: {\n            padding: 0;\n          };\n        }\n        paper-input[focused] {\n          opacity: 1;\n        }\n        .source-menu {\n          height: 40px;\n          line-height: 20px;\n          padding: 0;\n        }\n        paper-menu-button[focused] iron-icon {\n          color: var(--accent-color);\n          transform: rotate(180deg);\n        }\n        paper-menu-button paper-button[focused] iron-icon {\n          color: var(--primary-text-color);\n          transform: rotate(0deg);\n        }\n        .source-menu__button {\n          height: 40px;\n          line-height: 20px;\n          margin: 0;\n          min-width: 0;\n          text-transform: initial;\n        }\n        .source-menu__source {\n          display: block;\n          max-width: 60px;\n          overflow: hidden;\n          position: relative;\n          text-overflow: ellipsis;\n          width: auto;\n          white-space: nowrap;\n        }\n        .source-menu__source[show=\"small\"] {\n          display: none;\n        }\n        .source-menu__source[show=\"full\"] {\n          max-width: none;\n        }\n        paper-progress {\n          left: 0; right: 0; bottom: 0;\n          height: var(--paper-progress-height, 4px);\n          position: absolute;\n          width: 100%;\n          --paper-progress-active-color: var(--accent-color);\n          --paper-progress-container-color: rgba(150,150,150,0.25);\n          --paper-progress-transition-duration: 1s;\n          --paper-progress-transition-timing-function: linear;\n          --paper-progress-transition-delay: 0s;\n        }\n        ha-card[state='paused'] paper-progress {\n          --paper-progress-active-color: var(--disabled-text-color, rgba(150,150,150,.5));\n        }\n        .label {\n          margin: 0 8px;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n        }\n        ha-card[hide-info] .entity__control-row--top,\n        ha-card[hide-info] .select {\n          justify-content: space-between;\n        }\n        ha-card[hide-info] .right {\n          justify-content: flex-end;\n          margin-left: auto;\n        }\n        ha-card[hide-info] .entity__control-row--top,\n        ha-card[hide-info] .select,\n        .entity__control-row--top,\n        .entity__control-row--top paper-slider,\n        .select {\n          flex: 1\n        }\n        ha-card[hide-info] paper-slider,\n        ha-card[hide-info] .vol-control {\n          width: 100%;\n          max-width: none;\n        }\n        @keyframes slide {\n          100% { transform: translateX(-100%); }\n        }\n        @keyframes move {\n          from { transform: translateX(100%); }\n          to { transform: translateX(0); }\n        }\n        @keyframes fade-in {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n        ha-card[break] .rows,\n        ha-card[hide-info] .rows,\n        ha-card[hide-icon] .rows {\n          margin-left: 0;\n        }\n        ha-card[hide-info] .tts,\n        ha-card[hide-icon] .tts,\n        ha-card[break] .tts,\n        ha-card[hide-info] .media-dropdown,\n        ha-card[hide-icon] .media-dropdown,\n        ha-card[break] .media-dropdown {\n          padding-left: 8px;\n          padding-right: 8px;\n        }\n        ha-card[hide-info] .media-dropdown__button,\n        ha-card[hide-icon] .media-dropdown__button,\n        ha-card[break] .media-dropdown__button {\n          padding-right: 0;\n        }\n        div:empty,\n        ha-card[break] .source-menu__source,\n        ha-card[hide-info] .entity__info,\n        ha-card[hide-info] .entity__artwork,\n        ha-card[hide-info] .entity__icon,\n        .entity[inactive] .source-menu__source {\n          display: none;\n        }\n      </style>\n    "]);return _templateObject32=function(){return a},a}function _templateObject31(){const a=_taggedTemplateLiteral(["\n          <paper-button raised\n            @click='","'>\n            <span class='media-dropdown__label'>","</span>\n          </paper-button>"]);return _templateObject31=function(){return a},a}function _templateObject30(){const a=_taggedTemplateLiteral(["\n      <div class='media-buttons'>\n        ","\n      </div>"]);return _templateObject30=function(){return a},a}function _templateObject29(){const a=_taggedTemplateLiteral(["<paper-item value=",">","</paper-item>"]);return _templateObject29=function(){return a},a}function _templateObject28(){const a=_taggedTemplateLiteral(["\n      <paper-menu-button class='media-dropdown'\n        noink no-animations horizontal-align vertical-align .noLabelFloat=","\n        @click='","'>\n        <paper-button class='media-dropdown__button' slot='dropdown-trigger'>\n          <span class='media-dropdown__label'>\n            ","\n          </span>\n          <iron-icon class='media-dropdown__icon' .icon=","></iron-icon>\n        </paper-button>\n        <paper-listbox slot=\"dropdown-content\" class=\"media-dropdown-trigger\"\n          @click='","'>\n          ","\n        </paper-listbox>\n      </paper-menu-button>"]);return _templateObject28=function(){return a},a}function _templateObject27(){const a=_taggedTemplateLiteral(["\n      <div class='tts flex justify'>\n        <paper-input class='tts__input' no-label-float\n          placeholder=","...\n          @click='","'>\n        </paper-input>\n        <div>\n          <paper-button @click='","'>\n            SEND\n          </paper-button>\n        </div>\n      </div>"]);return _templateObject27=function(){return a},a}function _templateObject26(){const a=_taggedTemplateLiteral(["\n      <div class='flex'>\n        ","\n        <paper-icon-button .icon=","\n          @click='","'>\n        </paper-icon-button>\n        <paper-icon-button .icon=","\n          @click='","'>\n        </paper-icon-button>\n      </div>"]);return _templateObject26=function(){return a},a}function _templateObject25(){const a=_taggedTemplateLiteral(["\n      <div class='vol-control flex'>\n        <div>\n          ","\n        </div>\n        <paper-slider ?disabled=","\n          @change='","'\n          @click='","'\n          min='0' max="," value=","\n          ignore-bar-touch pin>\n        </paper-slider>\n      </div>"]);return _templateObject25=function(){return a},a}function _templateObject24(){const a=_taggedTemplateLiteral(["\n        <paper-icon-button .icon=","\n          @click='","'>\n        </paper-icon-button>"]);return _templateObject24=function(){return a},a}function _templateObject23(){const a=_taggedTemplateLiteral(["\n      <paper-icon-button .icon=","\n        @click='","'>\n      </paper-icon-button>\n      ","\n      <paper-icon-button .icon=","\n        @click='","'>\n      </paper-icon-button>"]);return _templateObject23=function(){return a},a}function _templateObject22(){const a=_taggedTemplateLiteral(["\n      ","\n      <div class='flex'>\n        ","\n        ","\n      </div>"]);return _templateObject22=function(){return a},a}function _templateObject21(){const a=_taggedTemplateLiteral(["<paper-item value=",">","</paper-item>"]);return _templateObject21=function(){return a},a}function _templateObject20(){const a=_taggedTemplateLiteral(["\n      <paper-menu-button class='source-menu' slot='dropdown-trigger'\n        .horizontalAlign="," .verticalAlign=","\n        .verticalOffset="," .noAnimations=","\n        @click='","'>\n        <paper-button class='source-menu__button' slot='dropdown-trigger'>\n          <span class='source-menu__source' show=",">\n            ","\n          </span>\n          <iron-icon .icon=","></iron-icon>\n        </paper-button>\n        <paper-listbox slot='dropdown-content' selected=","\n          @click='","'>\n          ","\n        </paper-listbox>\n      </paper-menu-button>"]);return _templateObject20=function(){return a},a}function _templateObject19(){const a=_taggedTemplateLiteral([""]);return _templateObject19=function(){return a},a}function _templateObject18(){const a=_taggedTemplateLiteral([""]);return _templateObject18=function(){return a},a}function _templateObject17(){const a=_taggedTemplateLiteral([""]);return _templateObject17=function(){return a},a}function _templateObject16(){const a=_taggedTemplateLiteral([""]);return _templateObject16=function(){return a},a}function _templateObject15(){const a=_taggedTemplateLiteral(["\n      <div class='select flex'>\n        ","\n        <div class='flex right'>\n          ","\n          ","\n          ","\n        <div>\n      </div>"]);return _templateObject15=function(){return a},a}function _templateObject14(){const a=_taggedTemplateLiteral(["\n      <paper-icon-button class='shuffle' .icon="," ?color=","\n        @click='","'>\n      </paper-icon-button>"]);return _templateObject14=function(){return a},a}function _templateObject13(){const a=_taggedTemplateLiteral(["\n      <span class='label'>\n        ","\n      </span>"]);return _templateObject13=function(){return a},a}function _templateObject12(){const a=_taggedTemplateLiteral(["\n      <paper-progress class='progress transiting' value=","\n        max=",">\n      </paper-progress>"]);return _templateObject12=function(){return a},a}function _templateObject11(){const a=_taggedTemplateLiteral(["<span>","</span>"]);return _templateObject11=function(){return a},a}function _templateObject10(){const a=_taggedTemplateLiteral(["<span>","</span>"]);return _templateObject10=function(){return a},a}function _templateObject9(){const a=_taggedTemplateLiteral(["\n          <div>\n            <div class='marquee'>\n              ","\n            </div>\n          </div>"]);return _templateObject9=function(){return a},a}function _templateObject8(){const a=_taggedTemplateLiteral(["\n      <div class='entity__info__media' ?scroll=","\n        style='animation-duration: ","s;'>\n        ","\n          ","\n      </div>"]);return _templateObject8=function(){return a},a}function _templateObject7(){const a=_taggedTemplateLiteral(["\n      <paper-icon-button .icon=","\n        @click='","'>\n      </paper-icon-button>"]);return _templateObject7=function(){return a},a}function _templateObject6(){const a=_taggedTemplateLiteral(["\n      <paper-icon-button class='power-button'\n        .icon=","\n        @click='","'\n        ?color=",">\n      </paper-icon-button>"]);return _templateObject6=function(){return a},a}function _templateObject5(){const a=_taggedTemplateLiteral(["\n      <div class='entity__icon'>\n        <ha-icon icon=","></ha-icon>\n      </div>"]);return _templateObject5=function(){return a},a}function _templateObject4(){const a=_taggedTemplateLiteral(["\n        <div class='entity__artwork' ?border=","\n          style='background-image: url(\"","\")'\n          state=",">\n        </div>"]);return _templateObject4=function(){return a},a}function _templateObject3(){const a=_taggedTemplateLiteral(["<div class='bg' style='background-image: url(",");'></div>"]);return _templateObject3=function(){return a},a}function _templateObject2(){const a=_taggedTemplateLiteral(["<div class='bg'></div>"]);return _templateObject2=function(){return a},a}function _templateObject(){const a=_taggedTemplateLiteral(["\n      ","\n      <ha-card ?break="," ?initial=","\n        ?bg="," ?group=","\n        ?more-info="," ?has-title=","\n        artwork="," ?has-artwork="," state=","\n        ?hide-icon="," ?hide-info=","\n        @click='","' style=",">\n        ","\n        <header>","</header>\n        <div class='player'>\n          <div class='entity flex' ?inactive=",">\n            ","\n            <div class='entity__info' ?short=",">\n              <div class='entity__info__name' ?has-info=",">\n                ","\n              </div>\n              ","\n            </div>\n            <div class='entity__control-row--top flex'>\n              ","\n            </div>\n          </div>\n          <div class='rows'>\n            <div class='control-row flex flex-wrap justify' ?wrap=",">\n              ","\n            </div>\n            ","\n            ","\n            ","\n          </div>\n        </div>\n        ","\n      </ha-card>"]);return _templateObject=function(){return a},a}function _taggedTemplateLiteral(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function _objectSpread(a){for(var b=1;b<arguments.length;b++){var c=null==arguments[b]?{}:arguments[b],d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){_defineProperty(a,b,c[b])})}return a}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}return c}function _arrayWithHoles(a){if(Array.isArray(a))return a}!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b():"function"==typeof define&&define.amd?define(b):b()}(0,function(){"use strict";function H(a){let b=y.get(a.type);void 0===b&&(b=new Map,y.set(a.type,b));let d=b.get(a.strings);return void 0===d&&(d=new c(a,a.getTemplateElement()),b.set(a.strings,d)),d}function P(b,f){const d=b.element.content,e=b.parts,g=document.createTreeWalker(d,N,null,!1);let h=M(e),i=e[h],j=-1,k=0;const m=[];for(let a=null;g.nextNode();){j++;const b=g.currentNode;for(b.previousSibling===a&&(a=null),f.has(b)&&(m.push(b),null===a&&(a=b)),null!==a&&k++;void 0!==i&&i.index===j;)i.index=null===a?i.index-k:-1,i=e[h=M(e,h)]}m.forEach(a=>a.parentNode.removeChild(a))}function A(a){return parseFloat(a)||0}function W(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];return b.reduce(function(b,c){return b+A(a["border-"+c+"-width"])},0)}function Y(b){var f=Math.abs,g=Math.round,h=b.clientWidth,e=b.clientHeight;if(!h&&!e)return ja;var i=ia(b).getComputedStyle(b),j=function(a){for(var b={},c=0,d=["top","right","bottom","left"];c<d.length;++c){var e=d[c],f=a["padding-"+e];b[e]=A(f)}return b}(i),k=j.left+j.right,m=j.top+j.bottom,n=A(i.width),o=A(i.height);if("border-box"===i.boxSizing&&(g(n+k)!==h&&(n-=W(i,"left","right")+k),g(o+m)!==e&&(o-=W(i,"top","bottom")+m)),!function(a){return a===ia(a).document.documentElement}(b)){var p=g(n+k)-h,l=g(o+m)-e;1!==f(p)&&(n-=p),1!==f(l)&&(o-=l)}return ba(j.left,j.top,n,o)}function aa(a){return X?ka(a)?function(a){var b=a.getBBox();return ba(0,0,b.width,b.height)}(a):Y(a):ja}function ba(a,b,c,d){return{x:a,y:b,width:c,height:d}}const ca=new WeakMap,da=a=>"function"==typeof a&&ca.has(a),ea=void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,fa=function(a,b){let c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,d=b;for(;d!==c;){const b=d.nextSibling;a.removeChild(d),d=b}},e={},ga="{{lit-".concat((Math.random()+"").slice(2),"}}"),o="<!--".concat(ga,"-->"),ha=new RegExp("".concat(ga,"|").concat(o)),a=(()=>{const a=document.createElement("div");return a.setAttribute("style","{{bad value}}"),"{{bad value}}"!==a.getAttribute("style")})();class c{constructor(b,c){this.parts=[],this.element=c;let f=-1,g=0;const j=[],k=c=>{const e=c.content,i=document.createTreeWalker(e,133,null,!1);for(let l,m;i.nextNode();){f++,l=m;const p=m=i.currentNode;if(1===p.nodeType){if(p.hasAttributes()){const c=p.attributes;let d=0;for(let a=0;a<c.length;a++)0<=c[a].value.indexOf(ga)&&d++;for(;0<d--;){const c=b.strings[g],d=h.exec(c)[2],e=a&&"style"===d?"style$":/^[a-zA-Z-]*$/.test(d)?d:d.toLowerCase(),i=p.getAttribute(e).split(ha);this.parts.push({type:"attribute",index:f,name:d,strings:i}),p.removeAttribute(e),g+=i.length-1}}"TEMPLATE"===p.tagName&&k(p)}else if(3===p.nodeType){const a=p.nodeValue;if(0>a.indexOf(ga))continue;const b=p.parentNode,e=a.split(ha),c=e.length-1;g+=c;for(let a=0;a<c;a++)b.insertBefore(""===e[a]?d():document.createTextNode(e[a]),p),this.parts.push({type:"node",index:f++});b.insertBefore(""===e[c]?d():document.createTextNode(e[c]),p),j.push(p)}else if(8===p.nodeType)if(p.nodeValue===ga){const a=p.parentNode,b=p.previousSibling;null===b||b!==l||b.nodeType!==Node.TEXT_NODE?a.insertBefore(d(),p):f--,this.parts.push({type:"node",index:f++}),j.push(p),null===p.nextSibling?a.insertBefore(d(),p):f--,m=l,g++}else for(let a=-1;-1!==(a=p.nodeValue.indexOf(ga,a+1));)this.parts.push({type:"node",index:-1})}};k(c);for(const a of j)a.parentNode.removeChild(a)}}const l=a=>-1!==a.index,d=()=>document.createComment(""),h=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=\/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class n{constructor(a,b,c){this._parts=[],this.template=a,this.processor=b,this.options=c}update(a){let b=0;for(const c of this._parts)void 0!==c&&c.setValue(a[b]),b++;for(const b of this._parts)void 0!==b&&b.commit()}_clone(){const a=ea?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),b=this.template.parts;let c=0,d=0;const e=a=>{const f=document.createTreeWalker(a,133,null,!1);for(let g=f.nextNode();c<b.length&&null!==g;){const a=b[c];if(!l(a))this._parts.push(void 0),c++;else if(d===a.index){if("node"===a.type){const a=this.processor.handleTextExpression(this.options);a.insertAfterNode(g),this._parts.push(a)}else this._parts.push(...this.processor.handleAttributeExpressions(g,a.name,a.strings,this.options));c++}else d++,"TEMPLATE"===g.nodeName&&e(g.content),g=f.nextNode()}};return e(a),ea&&(document.adoptNode(a),customElements.upgrade(a)),a}}class p{constructor(a,b,c,d){this.strings=a,this.values=b,this.type=c,this.processor=d}getHTML(){const b=this.strings.length-1;let c="",d=!0;for(let e=0;e<b;e++){const b=this.strings[e];c+=b;const f=b.lastIndexOf(">");!(d=(-1<f||d)&&-1===b.indexOf("<",f+1))&&a&&(c=c.replace(h,(a,b,c,d)=>"style"===c?"".concat(b,"style$").concat(d):a)),c+=d?o:ga}return c+=this.strings[b]}getTemplateElement(){const a=document.createElement("template");return a.innerHTML=this.getHTML(),a}}const i=a=>null===a||"object"!=typeof a&&"function"!=typeof a;class f{constructor(a,b,c){this.dirty=!0,this.element=a,this.name=b,this.strings=c,this.parts=[];for(let d=0;d<c.length-1;d++)this.parts[d]=this._createPart()}_createPart(){return new m(this)}_getValue(){const a=this.strings,b=a.length-1;let c="";for(let d=0;d<b;d++){c+=a[d];const b=this.parts[d];if(void 0!==b){const a=b.value;if(null!=a&&(Array.isArray(a)||"string"!=typeof a&&a[Symbol.iterator]))for(const b of a)c+="string"==typeof b?b:b+"";else c+="string"==typeof a?a:a+""}}return c+=a[b]}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class m{constructor(a){this.value=void 0,this.committer=a}setValue(a){a===e||i(a)&&a===this.value||(this.value=a,da(a)||(this.committer.dirty=!0))}commit(){for(;da(this.value);){const a=this.value;this.value=e,a(this)}this.value!==e&&this.committer.commit()}}class s{constructor(a){this.value=void 0,this._pendingValue=void 0,this.options=a}appendInto(a){this.startNode=a.appendChild(d()),this.endNode=a.appendChild(d())}insertAfterNode(a){this.startNode=a,this.endNode=a.nextSibling}appendIntoPart(a){a._insert(this.startNode=d()),a._insert(this.endNode=d())}insertAfterPart(a){a._insert(this.startNode=d()),this.endNode=a.endNode,a.endNode=this.startNode}setValue(a){this._pendingValue=a}commit(){for(;da(this._pendingValue);){const a=this._pendingValue;this._pendingValue=e,a(this)}const a=this._pendingValue;a!==e&&(i(a)?a!==this.value&&this._commitText(a):a instanceof p?this._commitTemplateResult(a):a instanceof Node?this._commitNode(a):Array.isArray(a)||a[Symbol.iterator]?this._commitIterable(a):void 0===a.then?this._commitText(a):this._commitPromise(a))}_insert(a){this.endNode.parentNode.insertBefore(a,this.endNode)}_commitNode(a){this.value!==a&&(this.clear(),this._insert(a),this.value=a)}_commitText(a){const b=this.startNode.nextSibling;a=null==a?"":a,b===this.endNode.previousSibling&&b.nodeType===Node.TEXT_NODE?b.textContent=a:this._commitNode(document.createTextNode("string"==typeof a?a:a+"")),this.value=a}_commitTemplateResult(a){const b=this.options.templateFactory(a);if(this.value&&this.value.template===b)this.value.update(a.values);else{const c=new n(b,a.processor,this.options),d=c._clone();c.update(a.values),this._commitNode(d),this.value=c}}_commitIterable(a){Array.isArray(this.value)||(this.value=[],this.clear());const b=this.value;let c,d=0;for(const e of a)void 0===(c=b[d])&&(c=new s(this.options),b.push(c),0==d?c.appendIntoPart(this):c.insertAfterPart(b[d-1])),c.setValue(e),c.commit(),d++;d<b.length&&(b.length=d,this.clear(c&&c.endNode))}_commitPromise(a){this.value=a,a.then(b=>{this.value===a&&(this.setValue(b),this.commit())})}clear(){let a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.startNode;fa(this.startNode.parentNode,a.nextSibling,this.endNode)}}class g{constructor(a,b,c){if(this.value=void 0,this._pendingValue=void 0,2!==c.length||""!==c[0]||""!==c[1])throw new Error("Boolean attributes can only contain a single expression");this.element=a,this.name=b,this.strings=c}setValue(a){this._pendingValue=a}commit(){for(;da(this._pendingValue);){const a=this._pendingValue;this._pendingValue=e,a(this)}if(this._pendingValue!==e){const a=!!this._pendingValue;this.value!==a&&(a?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)),this.value=a,this._pendingValue=e}}}class b extends f{constructor(a,b,c){super(a,b,c),this.single=2===c.length&&""===c[0]&&""===c[1]}_createPart(){return new r(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class r extends m{}let u=!1;try{const a={get capture(){return u=!0,!1}};window.addEventListener("test",a,a),window.removeEventListener("test",a,a)}catch(a){}class v{constructor(a,b,c){this.value=void 0,this._pendingValue=void 0,this.element=a,this.eventName=b,this.eventContext=c,this._boundHandleEvent=a=>this.handleEvent(a)}setValue(a){this._pendingValue=a}commit(){for(;da(this._pendingValue);){const a=this._pendingValue;this._pendingValue=e,a(this)}if(this._pendingValue!==e){const a=this._pendingValue,b=this.value,c=null==a||null!=b&&(a.capture!==b.capture||a.once!==b.once||a.passive!==b.passive);c&&this.element.removeEventListener(this.eventName,this._boundHandleEvent,this._options),this._options=k(a),null!=a&&(null==b||c)&&this.element.addEventListener(this.eventName,this._boundHandleEvent,this._options),this.value=a,this._pendingValue=e}}handleEvent(a){"function"==typeof this.value?this.value.call(this.eventContext||this.element,a):this.value.handleEvent(a)}}const k=a=>a&&(u?{capture:a.capture,passive:a.passive,once:a.once}:a.capture),w=new class{handleAttributeExpressions(a,c,d,e){const h=c[0];return"."===h?new b(a,c.slice(1),d).parts:"@"===h?[new v(a,c.slice(1),e.eventContext)]:"?"===h?[new g(a,c.slice(1),d)]:new f(a,c,d).parts}handleTextExpression(a){return new s(a)}},y=new Map,E=new WeakMap,S=function(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return new p(a,c,"html",w)},N=NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT,t=a=>{let b=a.nodeType===Node.DOCUMENT_FRAGMENT_NODE?0:1;for(const c=document.createTreeWalker(a,N,null,!1);c.nextNode();)b++;return b},M=function(a){let b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:-1;for(let c=b+1;c<a.length;c++){const b=a[c];if(l(b))return c}return-1},C=(a,b)=>"".concat(a,"--").concat(b);let O=!0;void 0===window.ShadyCSS?O=!1:void 0===window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected.Please update to at least @webcomponents/webcomponentsjs@2.0.2 and@webcomponents/shadycss@1.3.1."),O=!1);const T=["html","svg"],z=new Set,R=(a,b,c)=>{z.add(c);const d=a.querySelectorAll("style");if(0!==d.length){const f=document.createElement("style");for(let a=0;a<d.length;a++){const b=d[a];b.parentNode.removeChild(b),f.textContent+=b.textContent}if((a=>{T.forEach(b=>{const c=y.get(C(b,a));void 0!==c&&c.forEach(a=>{const b=a.element.content,c=new Set;Array.from(b.querySelectorAll("style")).forEach(a=>{c.add(a)}),P(a,c)})})})(c),function(a,b){let d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;const c=a.element.content,e=a.parts;if(null==d)return void c.appendChild(b);const f=document.createTreeWalker(c,N,null,!1);for(let g=M(e),h=0,i=-1;f.nextNode();)for(i++,f.currentNode===d&&(h=t(b),d.parentNode.insertBefore(b,d));-1!==g&&e[g].index===i;){if(0<h){for(;-1!==g;)e[g].index+=h,g=M(e,g);return}g=M(e,g)}}(b,f,b.element.content.firstChild),window.ShadyCSS.prepareTemplateStyles(b.element,c),window.ShadyCSS.nativeShadow){const c=b.element.content.querySelector("style");a.insertBefore(c.cloneNode(!0),a.firstChild)}else{b.element.content.insertBefore(f,b.element.content.firstChild);const a=new Set;a.add(f),P(b,a)}}},B=a=>null!==a,I=a=>a?"":null,j=(a,b)=>b!==a&&(b==b||a==a),L={attribute:!0,type:String,reflect:!1,hasChanged:j},q=new Promise(a=>a(!0)),D=1;class U extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=q,this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this._finalize();const a=[];for(const c of this._classProperties){var b=_slicedToArray(c,2);const d=b[0],e=b[1],f=this._attributeNameForProperty(d,e);void 0!==f&&(this._attributeToPropertyMap.set(f,d),a.push(f))}return a}static createProperty(a){let b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:L;if(!this.hasOwnProperty("_classProperties")){this._classProperties=new Map;const a=Object.getPrototypeOf(this)._classProperties;void 0!==a&&a.forEach((a,b)=>this._classProperties.set(b,a))}if(this._classProperties.set(a,b),this.prototype.hasOwnProperty(a))return;const c="symbol"==typeof a?Symbol():"__".concat(a);Object.defineProperty(this.prototype,a,{get(){return this[c]},set(d){const e=this[a];this[c]=d,this._requestPropertyUpdate(a,e,b)},configurable:!0,enumerable:!0})}static _finalize(){if(!(this.hasOwnProperty("_finalized")&&this._finalized)){const a=Object.getPrototypeOf(this);"function"==typeof a._finalize&&a._finalize(),this._finalized=!0,this._attributeToPropertyMap=new Map;const b=this.properties,c=[...Object.getOwnPropertyNames(b),...("function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(b):[])];for(const a of c)this.createProperty(a,b[a])}}static _attributeNameForProperty(a,b){const c=void 0!==b&&b.attribute;return!1===c?void 0:"string"==typeof c?c:"string"==typeof a?a.toLowerCase():void 0}static _valueHasChanged(a,b){let c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:j;return c(a,b)}static _propertyValueFromAttribute(a,b){const c=b&&b.type;if(void 0===c)return a;const d=c===Boolean?B:"function"==typeof c?c:c.fromAttribute;return d?d(a):a}static _propertyValueToAttribute(a,b){return void 0===b||void 0===b.reflect?void 0:(b.type===Boolean?I:b.type&&b.type.toAttribute||String)(a)}initialize(){this.renderRoot=this.createRenderRoot(),this._saveInstanceProperties()}_saveInstanceProperties(){for(const b of this.constructor._classProperties){var a=_slicedToArray(b,1);const c=a[0];if(this.hasOwnProperty(c)){const a=this[c];delete this[c],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(c,a)}}}_applyInstanceProperties(){for(const b of this._instanceProperties){var a=_slicedToArray(b,2);const c=a[0],d=a[1];this[c]=d}this._instanceProperties=void 0}createRenderRoot(){return this.attachShadow({mode:"open"})}connectedCallback(){this._updateState&D?void 0!==window.ShadyCSS&&window.ShadyCSS.styleElement(this):this.requestUpdate()}disconnectedCallback(){}attributeChangedCallback(a,b,c){b!==c&&this._attributeToProperty(a,c)}_propertyToAttribute(a,b){let c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:L;const d=this.constructor,f=d._propertyValueToAttribute(b,c);if(void 0!==f){const b=d._attributeNameForProperty(a,c);void 0!==b&&(this._updateState|=8,null===f?this.removeAttribute(b):this.setAttribute(b,f),this._updateState&=-9)}}_attributeToProperty(a,b){if(!(this._updateState&8)){const c=this.constructor,d=c._attributeToPropertyMap.get(a);if(void 0!==d){const a=c._classProperties.get(d);this[d]=c._propertyValueFromAttribute(b,a)}}}requestUpdate(a,b){if(void 0!==a){const c=this.constructor._classProperties.get(a)||L;return this._requestPropertyUpdate(a,b,c)}return this._invalidate()}_requestPropertyUpdate(a,b,c){return this.constructor._valueHasChanged(this[a],b,c.hasChanged)?(this._changedProperties.has(a)||this._changedProperties.set(a,b),!0===c.reflect&&(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(a,c)),this._invalidate()):this.updateComplete}async _invalidate(){if(!this._hasRequestedUpdate){let a;this._updateState|=4;const b=this._updatePromise;this._updatePromise=new Promise(b=>a=b),await b,this._validate(),a(!this._hasRequestedUpdate)}return this.updateComplete}get _hasRequestedUpdate(){return this._updateState&4}_validate(){if(this._instanceProperties&&this._applyInstanceProperties(),this.shouldUpdate(this._changedProperties)){const a=this._changedProperties;this.update(a),this._markUpdated(),this._updateState&D||(this._updateState|=1,this.firstUpdated(a)),this.updated(a)}else this._markUpdated()}_markUpdated(){this._changedProperties=new Map,this._updateState&=-5}get updateComplete(){return this._updatePromise}shouldUpdate(){return!0}update(){if(void 0!==this._reflectingProperties&&0<this._reflectingProperties.size){for(const b of this._reflectingProperties){var a=_slicedToArray(b,2);const c=a[0],d=a[1];this._propertyToAttribute(c,this[c],d)}this._reflectingProperties=void 0}}updated(){}firstUpdated(){}}U._attributeToPropertyMap=new Map,U._finalized=!0,U._classProperties=new Map,U.properties={};class G extends U{update(a){super.update(a);const b=this.render();b instanceof p&&this.constructor.render(b,this.renderRoot,{scopeName:this.localName,eventContext:this})}render(){}}G.render=(a,b,d)=>{const e=d.scopeName,f=E.has(b);if(((a,b,c)=>{let d=E.get(b);void 0===d&&(fa(b,b.firstChild),E.set(b,d=new s(Object.assign({templateFactory:H},c))),d.appendInto(b)),d.setValue(a),d.commit()})(a,b,Object.assign({templateFactory:(a=>b=>{const d=C(b.type,a);let e=y.get(d);void 0===e&&(e=new Map,y.set(d,e));let f=e.get(b.strings);if(void 0===f){const d=b.getTemplateElement();O&&window.ShadyCSS.prepareTemplateDom(d,a),f=new c(b,d),e.set(b.strings,f)}return f})(e)},d)),b instanceof ShadowRoot&&O&&a instanceof p){if(!z.has(e)){const a=E.get(b).value;R(b,a.template,e)}f||window.ShadyCSS.styleElement(b.host)}};var V=function(){function a(a,b){var c=-1;return a.some(function(a,d){return a[0]===b&&(c=d,!0)}),c}return"undefined"==typeof Map?function(){function b(){this.__entries__=[]}var c={size:{configurable:!0}};return c.size.get=function(){return this.__entries__.length},b.prototype.get=function(b){var c=a(this.__entries__,b),d=this.__entries__[c];return d&&d[1]},b.prototype.set=function(b,c){var d=a(this.__entries__,b);~d?this.__entries__[d][1]=c:this.__entries__.push([b,c])},b.prototype.delete=function(b){var c=this.__entries__,d=a(c,b);~d&&c.splice(d,1)},b.prototype.has=function(b){return!!~a(this.__entries__,b)},b.prototype.clear=function(){this.__entries__.splice(0)},b.prototype.forEach=function(a,b){void 0===b&&(b=null);for(var c,d=0,f=this.__entries__;d<f.length;++d)c=f[d],a.call(b,c[1],c[0])},Object.defineProperties(b.prototype,c),b}():Map}(),X="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,J="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),K="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(J):function(a){return setTimeout(function(){return a(Date.now())},1e3/60)},Q=["top","right","bottom","left","width","height","size","weight"],Z="undefined"!=typeof MutationObserver,$=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(b,c){function d(){a&&(a=!1,b()),g&&f()}function e(){K(d)}function f(){var b=Date.now();if(a){if(b-h<2)return;g=!0}else a=!0,g=!1,setTimeout(e,c);h=b}var a=!1,g=!1,h=0;return f}(this.refresh.bind(this),20)};$.prototype.addObserver=function(a){~this.observers_.indexOf(a)||this.observers_.push(a),this.connected_||this.connect_()},$.prototype.removeObserver=function(a){var b=this.observers_,c=b.indexOf(a);~c&&b.splice(c,1),!b.length&&this.connected_&&this.disconnect_()},$.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},$.prototype.updateObservers_=function(){var a=this.observers_.filter(function(a){return a.gatherActive(),a.hasActive()});return a.forEach(function(a){return a.broadcastActive()}),0<a.length},$.prototype.connect_=function(){X&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Z?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},$.prototype.disconnect_=function(){X&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},$.prototype.onTransitionEnd_=function(a){var b=a.propertyName;void 0===b&&(b=""),Q.some(function(a){return!!~b.indexOf(a)})&&this.refresh()},$.getInstance=function(){return this.instance_||(this.instance_=new $),this.instance_},$.instance_=null;var _=function(a,b){for(var c,d=0,e=Object.keys(b);d<e.length;++d)c=e[d],Object.defineProperty(a,c,{value:b[c],enumerable:!1,writable:!1,configurable:!0});return a},ia=function(a){return a&&a.ownerDocument&&a.ownerDocument.defaultView||J},ja=ba(0,0,0,0),ka="undefined"==typeof SVGGraphicsElement?function(a){return a instanceof ia(a).SVGElement&&"function"==typeof a.getBBox}:function(a){return a instanceof ia(a).SVGGraphicsElement},la=function(a){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ba(0,0,0,0),this.target=a};la.prototype.isActive=function(){var a=aa(this.target);return this.contentRect_=a,a.width!==this.broadcastWidth||a.height!==this.broadcastHeight},la.prototype.broadcastRect=function(){var a=this.contentRect_;return this.broadcastWidth=a.width,this.broadcastHeight=a.height,a};var ma=function(b,d){var e,f,g,h,j,k,m,p=(f=(e=d).x,g=e.y,h=e.width,j=e.height,k="undefined"==typeof DOMRectReadOnly?Object:DOMRectReadOnly,m=Object.create(k.prototype),_(m,{x:f,y:g,width:h,height:j,top:g,right:f+h,bottom:j+g,left:f}),m);_(this,{target:b,contentRect:p})},na=function(a,b,c){if(this.activeObservations_=[],this.observations_=new V,"function"!=typeof a)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=a,this.controller_=b,this.callbackCtx_=c};na.prototype.observe=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(a instanceof ia(a).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var b=this.observations_;b.has(a)||(b.set(a,new la(a)),this.controller_.addObserver(this),this.controller_.refresh())}},na.prototype.unobserve=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(a instanceof ia(a).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var b=this.observations_;b.has(a)&&(b.delete(a),b.size||this.controller_.removeObserver(this))}},na.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},na.prototype.gatherActive=function(){var a=this;this.clearActive(),this.observations_.forEach(function(b){b.isActive()&&a.activeObservations_.push(b)})},na.prototype.broadcastActive=function(){if(this.hasActive()){var a=this.callbackCtx_,b=this.activeObservations_.map(function(a){return new ma(a.target,a.broadcastRect())});this.callback_.call(a,b,a),this.clearActive()}},na.prototype.clearActive=function(){this.activeObservations_.splice(0)},na.prototype.hasActive=function(){return 0<this.activeObservations_.length};var oa="undefined"==typeof WeakMap?new V:new WeakMap,pa=function(a){if(!(this instanceof pa))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var b=$.getInstance(),c=new na(a,b,this);oa.set(this,c)};["observe","unobserve","disconnect"].forEach(function(a){pa.prototype[a]=function(){return(b=oa.get(this))[a].apply(b,arguments);var b}});var qa=void 0===J.ResizeObserver?pa:J.ResizeObserver;const ra=[{attr:"media_title"},{attr:"media_artist"},{attr:"media_series_title"},{attr:"media_season",prefix:"S"},{attr:"media_episode",prefix:"E"}],sa={dropdown:"mdi:chevron-down",menu:"mdi:menu-down",mute:{true:"mdi:volume-off",false:"mdi:volume-high"},next:"mdi:skip-next",playing:{true:"mdi:pause",false:"mdi:play"},power:"mdi:power",prev:"mdi:skip-previous",send:"mdi:send",shuffle:"mdi:shuffle-variant",volume_down:"mdi:volume-minus",volume_up:"mdi:volume-plus"};customElements.define("mini-media-player",class extends G{constructor(){super(),this._overflow=!1,this.idle=!1,this._rect={h:0,w:0},this.break=!0,this.initial=!0}static get properties(){return{_hass:Object,config:Object,entity:Object,source:String,position:Number,active:Boolean,idle:Boolean,_overflow:Boolean,_rect:{h:Number,w:Number},break:Boolean,initial:Boolean}}set hass(a){const b=a.states[this.config.entity];this._hass=a,b&&this.entity!==b&&(this.entity=b)}set overflow(a){a!==this._overflow&&(this._overflow=a)}set rect(a){a.h===this._rect.h&&a.w===this._rect.w||(this._rect=a)}setConfig(a){if(!a.entity||"media_player"!==a.entity.split(".")[0])throw new Error("Specify an entity from within the media_player domain.");const b=_objectSpread({artwork:"default",artwork_border:!1,background:!1,consider_idle_after:!1,consider_pause_idle:!1,group:!1,hide_controls:!1,hide_icon:!1,hide_info:!1,hide_media_info:!1,hide_mute:!1,hide_power:!1,hide_volume:!1,icon:!1,idle_view:!1,max_volume:100,more_info:!0,power_color:!1,scroll_info:!1,short_info:!1,media_buttons:!1,media_list:!1,show_progress:!1,show_shuffle:!1,show_source:!1,show_tts:!1,title:"",toggle_power:!0,volume_stateless:!1},a);b.consider_idle_after=60*+b.consider_idle_after||!1,b.idle_view=b.idle_view||b.consider_idle_after||b.consider_pause_idle,b.max_volume=+b.max_volume||100,b.collapse=b.hide_controls||b.hide_volume,b.short_info=b.short_info||b.scroll_info||b.collapse,this.config=b}shouldUpdate(a){if(this.entity&&(a.has("entity")||a.has("source")||a.has("position")||a.has("_overflow")||a.has("_rect")&&this.entity.attributes.entity_picture&&"full-cover"===this.config.artwork.substring(0,10)||a.has("break")))return this.active=this._isActive(),this.config.show_progress&&this._checkProgress(),!0}firstUpdated(){new qa(a=>{for(const b of a)window.requestAnimationFrame(()=>(this.config.scroll_info&&this._computeOverflow(),"full-cover"===this.config.artwork.substring(0,10))?this._computeRect(b):void(this._resizeTimer||(this._computeRect(b),this._resizeTimer=setTimeout(()=>{this._resizeTimer=null,this._computeRect(this._resizeEntry)},250)),this._resizeEntry=b))}).observe(this.shadowRoot.querySelector(".player")),setTimeout(()=>this.initial=!1,250)}updated(){this.config.scroll_info&&this._computeOverflow()}render(){let a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this,b=a._hass,c=a.config,d=a.entity;const e=this._computeArtwork(),f=e&&"full-cover"===c.artwork.substring(0,10)?this._rect.w:0;return S(_templateObject(),this._style(),this.break,this.initial,c.background,c.group,c.more_info,""!==c.title,c.artwork,e,d.state,c.hide_icon,c.hide_info,()=>this._handleMore(),"min-height: ".concat(f,"px;"),this._renderArtwork(e),c.title,!this.active,this._renderIcon(e),c.short_info||!this.active,this._hasMediaInfo(),this._computeName(),this._renderMediaInfo(),this._renderPowerStrip(),c.volume_stateless,!c.collapse&&this.active?this._renderControlRow():"",c.media_buttons?this._renderButtons():"",c.media_list?this._renderList():"",c.show_tts?this._renderTts():"",c.show_progress&&this._showProgress?this._renderProgress():"")}_computeName(){return this.config.name||this.entity.attributes.friendly_name}_computeArtwork(){const a=this.entity.attributes.entity_picture;return a&&""!=a&&"none"!==this.config.artwork&&this.active&&a}_computeIcon(){return this.config.icon?this.config.icon:this.entity.attributes.icon||"mdi:cast"}_computeOverflow(){const a=this.shadowRoot.querySelector(".marquee");if(a){const b=a.clientWidth>a.parentNode.clientWidth;this.overflow=b&&this.active&&7.5+a.clientWidth/50}}_computeRect(a){const b=a.contentRect,c=b.left,d=b.top,e=b.width,f=b.height;this.rect={h:0,w:e+2*c},this.break=350>e+2*c}_renderArtwork(a){if(!a&&!this.config.background)return S(_templateObject2());const b=a||this.config.background;return S(_templateObject3(),b)}_renderIcon(a){if(!this.config.hide_icon)return this.active&&a&&"default"==this.config.artwork?S(_templateObject4(),this.config.artwork_border,a,this.entity.state):S(_templateObject5(),this._computeIcon())}_renderPowerButton(){return S(_templateObject6(),sa.power,a=>this._handlePower(a),this.config.power_color&&(this.active||this.idle))}_renderPlayButton(){return S(_templateObject7(),sa.playing[this._isPlaying()],a=>this._callService(a,"media_play_pause"))}_renderMediaInfo(){if(!this.config.hide_media_info){const a=ra.map(a=>_objectSpread({info:this._getAttribute(a.attr),prefix:a.prefix||""},a)).filter(a=>""!==a.info);return S(_templateObject8(),this._overflow,this._overflow,this.config.scroll_info?S(_templateObject9(),a.map(a=>S(_templateObject10(),a.prefix+a.info))):"",a.map(a=>S(_templateObject11(),a.prefix+a.info)))}}_renderProgress(){return S(_templateObject12(),this.position,this.entity.attributes.media_duration)}_renderLabel(a){let b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"Unknown";return S(_templateObject13(),this._getLabel(a,b))}_renderIdleStatus(){return this._isPaused()?this._renderPlayButton():this._renderLabel("state.media_player.idle","Idle")}_renderShuffle(){const a=this.entity.attributes.shuffle||!1;return S(_templateObject14(),sa.shuffle,a,b=>this._callService(b,"shuffle_set",{shuffle:!a}))}_renderPowerStrip(){let a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this,b=a.config;return"unavailable"==this.entity.state?this._renderLabel("state.default.unavailable","Unavailable"):S(_templateObject15(),this.active&&b.collapse?this._renderControlRow():S(_templateObject16()),this.idle?this._renderIdleStatus():S(_templateObject17()),b.show_source?this._renderSource():S(_templateObject18()),b.hide_power?S(_templateObject19()):this._renderPowerButton())}_renderSource(){let a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this,b=a.entity;const c=b.attributes.source_list||!1,d=b.attributes.source||"";if(c){const a=c.indexOf(d);return S(_templateObject20(),"right","top",40,!0,a=>a.stopPropagation(),this.config.show_source,this.source||d,sa.dropdown,a,a=>this._handleSource(a),c.map(a=>S(_templateObject21(),a,a)))}}_renderControlRow(){return S(_templateObject22(),this.config.hide_volume?"":this._renderVolControls(),this.config.show_shuffle?this._renderShuffle():"",this.config.hide_controls?"":this._renderMediaControls())}_renderMediaControls(){return S(_templateObject23(),sa.prev,a=>this._callService(a,"media_previous_track"),this._renderPlayButton(),sa.next,a=>this._callService(a,"media_next_track"))}_renderVolControls(){const a=this.entity.attributes.is_volume_muted||!1;return this.config.volume_stateless?this._renderVolButtons(a):this._renderVolSlider(a)}_renderMuteButton(a){const b={is_volume_muted:!a};if(!this.config.hide_mute)return S(_templateObject24(),sa.mute[a],a=>this._callService(a,"volume_mute",b))}_renderVolSlider(){let a=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];const b=100*this.entity.attributes.volume_level;return S(_templateObject25(),this._renderMuteButton(a),a,a=>this._handleVolumeChange(a),a=>a.stopPropagation(),this.config.max_volume,b)}_renderVolButtons(){let a=!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return S(_templateObject26(),this._renderMuteButton(a),sa.volume_down,a=>this._callService(a,"volume_down"),sa.volume_up,a=>this._callService(a,"volume_up"))}_renderTts(){return S(_templateObject27(),this._getLabel("ui.card.media_player.text_to_speak","Say"),a=>a.stopPropagation(),a=>this._handleTts(a))}_renderList(){const a=this.config.media_list;return S(_templateObject28(),!0,a=>a.stopPropagation(),"Select media...",sa.menu,a=>this._handleSelect(a,"media_list",a.target.getAttribute("value")),a.map((a,b)=>S(_templateObject29(),b,a.name)))}_renderButtons(){const a=this.config.media_buttons;return S(_templateObject30(),a.map((a,b)=>S(_templateObject31(),a=>this._handleSelect(a,"media_buttons",b),a.name)))}_callService(a,b,c){let d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:"media_player";a.stopPropagation(),(c=null==c?{}:c).entity_id=c.entity_id||this.config.entity,this._hass.callService(d,b,c)}_handleVolumeChange(a){const b=parseFloat(a.target.value),c=0<b?b/100:0;this._callService(a,"volume_set",{volume_level:c})}_handlePower(a){this.config.toggle_power?this._callService(a,"toggle"):"off"===this.entity.state?this._callService(a,"turn_on"):this._callService(a,"turn_off")}_handleTts(a){const b=this.shadowRoot.querySelector(".tts paper-input"),c={message:b.value};"alexa"===this.config.show_tts?this._callService(a,"alexa_tts",c):this._callService(a,this.config.show_tts+"_say",c,"tts"),b.value=""}_handleSelect(a,b,c){const d={media_content_type:this.config[b][c].type,media_content_id:this.config[b][c].url};this._callService(a,"play_media",d)}_handleMore(){let a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this,b=a.config;b.more_info&&this._fire("hass-more-info",{entityId:b.entity})}_handleSource(a){const b=a.target.getAttribute("value");this._callService(a,"select_source",{source:b}),this.source=b}_fire(a,b,c){c=c||{},b=null==b?{}:b;const d=new Event(a,{bubbles:void 0===c.bubbles||c.bubbles,cancelable:!!c.cancelable,composed:void 0===c.composed||c.composed});return d.detail=b,this.dispatchEvent(d),d}_checkProgress(){this._isPlaying()&&this._showProgress?this._positionTracker||(this._positionTracker=setInterval(()=>this.position=this._currentProgress,1e3)):this._positionTracker&&(clearInterval(this._positionTracker),this._positionTracker=null),this.position=this._currentProgress}get _showProgress(){return(this._isPlaying()||this._isPaused())&&this.active&&"media_duration"in this.entity.attributes&&"media_position"in this.entity.attributes&&"media_position_updated_at"in this.entity.attributes}get _currentProgress(){const a=this.entity.attributes.media_position_updated_at;return this.entity.attributes.media_position+(Date.now()-new Date(a).getTime())/1e3}_isPaused(){return"paused"===this.entity.state}_isPlaying(){return"playing"===this.entity.state}_isIdle(){return"idle"===this.entity.state}_isActive(){!!(0<arguments.length&&arguments[0]!==void 0)&&arguments[0];return this.config.idle_view&&(this.idle=this._computeIdle()),"off"!==this.entity.state&&"unavailable"!==this.entity.state&&!this.idle||!1}_computeIdle(){let a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this,b=a.config;if(b.idle_view&&this._isIdle())return!0;if(b.consider_pause_idle&&this._isPaused())return!0;const c=this.entity.attributes.media_position_updated_at;if(!c||!b.consider_idle_after)return!1;const d=(Date.now()-new Date(c).getTime())/1e3;return d>b.consider_idle_after||(this._inactiveTracker||(this._inactiveTracker=setTimeout(()=>{this.position=0,this._inactiveTracker=null},1e3*(b.consider_idle_after-d))),!1)}_hasMediaInfo(){return 0!==ra.map(a=>this._getAttribute(a.attr)).filter(a=>""!==a).length&&!this.config.hide_media_info}_getAttribute(a){let b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this,c=b.entity;return c.attributes[a]||""}_getLabel(a){let b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"unknown";const c=this._hass.selectedLanguage||this._hass.language,d=this._hass.resources[c];return d&&d[a]?d[a]:b}_style(){return S(_templateObject32())}getCardSize(){return this.config.collapse?1:2}})});
